(self.webpackChunk_making_sense_antlr_editor=self.webpackChunk_making_sense_antlr_editor||[]).push([[179],{"./src/stories/VtlEditor.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Enriched:()=>Enriched,Styled:()=>Styled,__namedExportsOrder:()=>__namedExportsOrder,default:()=>VtlEditor_stories});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/@monaco-editor/react/dist/index.mjs"),editor_api=__webpack_require__("./node_modules/monaco-editor/esm/vs/editor/editor.api.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),antlr4ts=__webpack_require__("./node_modules/antlr4ts/index.js"),browser=__webpack_require__("./node_modules/debug/src/browser.js"),browser_default=__webpack_require__.n(browser),Log=function(){function Log(){(0,classCallCheck.Z)(this,Log)}return(0,createClass.Z)(Log,null,[{key:"message",value:function message(level,_message,source){var namespace="VRM: ".concat(level),logger=browser_default()(namespace);logger.color=Log.colors[level],source?logger(source,_message):logger(_message)}},{key:"info",value:function info(message,source){return Log.message("info",message,source)}},{key:"warn",value:function warn(message,source){return Log.message("warning",message,source)}},{key:"error",value:function error(message,source){return Log.message("error",message,source)}}]),Log}();Log.colors={info:"lightblue",warning:"orange",error:"red"};var ConsoleErrorListener=function(){function ConsoleErrorListener(){(0,classCallCheck.Z)(this,ConsoleErrorListener)}return(0,createClass.Z)(ConsoleErrorListener,[{key:"syntaxError",value:function syntaxError(recognizer,offendingSymbol,line,column,msg){Log.info("ERROR "+msg,"ParserFacadeV3")}}]),ConsoleErrorListener}(),Error=(0,createClass.Z)((function Error(startLine,endLine,startCol,endCol,message){(0,classCallCheck.Z)(this,Error),this.startLine=void 0,this.endLine=void 0,this.startCol=void 0,this.endCol=void 0,this.message=void 0,this.startLine=startLine,this.endLine=endLine,this.startCol=startCol,this.endCol=endCol,this.message=message})),CollectorErrorListener=function(){function CollectorErrorListener(errors){(0,classCallCheck.Z)(this,CollectorErrorListener),this.errors=[],this.errors=errors}return(0,createClass.Z)(CollectorErrorListener,[{key:"syntaxError",value:function syntaxError(recognizer,offendingSymbol,line,column,msg){var endColumn=column+1;null!==offendingSymbol._text&&void 0!==offendingSymbol._text&&(endColumn=column+offendingSymbol._text.length),this.errors.push(new Error(line,line,column,endColumn,msg))}}]),CollectorErrorListener}(),createLexer=function createLexer(Lexer){return function(input){var chars=antlr4ts.CharStreams.fromString(input||"");return new Lexer(chars)}},createParserFromLexer=function createParserFromLexer(Parser){return function(lexer){var tokens=new antlr4ts.CommonTokenStream(lexer);return new Parser(tokens)}},editor_main=__webpack_require__("./node_modules/monaco-editor/esm/vs/editor/editor.main.js"),MultiplyMode=function(MultiplyMode){return MultiplyMode[MultiplyMode.None=0]="None",MultiplyMode[MultiplyMode.Optional=1]="Optional",MultiplyMode[MultiplyMode.Onemore=2]="Onemore",MultiplyMode[MultiplyMode.Zeromore=3]="Zeromore",MultiplyMode}({});function mergeMultiplyMode(first,second){return first!==second&&second!==MultiplyMode.None?first===MultiplyMode.None?second:MultiplyMode.Zeromore:first}var TokenType=function(TokenType){return TokenType.Space=" ",TokenType.Lparen="(",TokenType.Rparen=")",TokenType.Question="?",TokenType.Star="*",TokenType.Plus="+",TokenType.Pipe="|",TokenType.Hash="#",TokenType.Assign="=",TokenType.PlusAssign="+=",TokenType.Keyword="k",TokenType.Operator="o",TokenType.Operand="d",TokenType.Identifier="i",TokenType.Label="l",TokenType.Rule="r",TokenType.Unknown="u",TokenType}({}),RuleToken=function(){function RuleToken(type,nested,name,value){(0,classCallCheck.Z)(this,RuleToken),this.type=void 0,this.name=void 0,this.value=void 0,this.identifier=void 0,this.nested=0,this.multiplied=MultiplyMode.None,this.greedy=!0,this.sibling=void 0,this.type=type,nested&&(this.nested=nested),name&&(this.name=name),value&&(this.value=value)}return(0,createClass.Z)(RuleToken,[{key:"multiply",value:function multiply(type){var multiplied;switch(type){case TokenType.Question:multiplied=MultiplyMode.Optional;break;case TokenType.Plus:multiplied=MultiplyMode.Onemore;break;case TokenType.Star:multiplied=MultiplyMode.Zeromore;break;default:return}this.multiplied!==multiplied&&(this.multiplied=this.multiplied===MultiplyMode.None?multiplied:MultiplyMode.Zeromore)}},{key:"label",value:function label(identifier){this.identifier=identifier}},{key:"isAssign",value:function isAssign(){return this.type===TokenType.Assign||this.type===TokenType.PlusAssign}},{key:"isAtom",value:function isAtom(){return this.type===TokenType.Keyword||this.type===TokenType.Operator||this.type===TokenType.Operand||this.type===TokenType.Rule||this.type===TokenType.Unknown}}]),RuleToken}(),rgxEscape=/[-/\\^$*+?.()|[\]{}]/g,RuleTokenizer=function(){function RuleTokenizer(vocabulary){(0,classCallCheck.Z)(this,RuleTokenizer),this.vocabulary=void 0,this.context={tokens:[],parens:[],atom:[],modifier:void 0},this.vocabulary=vocabulary}return(0,createClass.Z)(RuleTokenizer,[{key:"tokenize",value:function tokenize(declaration){var _this=this;return this.clearContext(),Array.from(declaration).forEach((function(value,index){if(!_this.isAtom(value,index)&&!_this.isModifier(value,index))switch(value){case TokenType.Lparen:var token=new RuleToken(TokenType.Lparen,_this.context.parens.length);_this.context.parens.push(token),_this.context.tokens.push(token);break;case TokenType.Rparen:var lparen=_this.context.parens.pop();if(lparen){var lindex=_this.context.tokens.indexOf(lparen);if(lindex!==_this.context.tokens.length-2){var rparen=new RuleToken(TokenType.Rparen,_this.context.parens.length);lparen.sibling=rparen,rparen.sibling=lparen,_this.context.tokens.push(rparen)}else{var last=_this.lastToken();last&&last.nested--,_this.context.tokens.splice(lindex,1)}}else _this.unexpected(value,index);break;case TokenType.Pipe:_this.addToken(value);break;case TokenType.Assign:var _last=_this.lastToken([TokenType.Unknown]);_last&&(_last.type=TokenType.Identifier,_this.addToken(value),Log.warn("Unknown operator token "+_last.name+" recognized as identifier","RuleTokenizer"));break;case TokenType.Hash:_this.addToken(value);break;case TokenType.Space:_this.finishAtom(index);break;default:_this.unexpected(value,index)}})),this.finishAtom(declaration.length),this.context.tokens}},{key:"isAtom",value:function isAtom(value,index){return/[a-zA-Z_0-9]/.test(value)?(this.context.atom.push(value),!0):(this.finishAtom(index),!1)}},{key:"isModifier",value:function isModifier(value,index){if(/[*+?]/.test(value)){var last=this.lastToken([TokenType.Keyword,TokenType.Operator,TokenType.Operand,TokenType.Rule,TokenType.Rparen,TokenType.Unknown]);return this.context.modifier?(value===TokenType.Question&&last?last.greedy=!1:this.unexpected(value,index),this.finishModifier()):last?(last.multiply(value),this.context.modifier=value):this.unexpected(value,index),!0}return this.finishModifier(),!1}},{key:"addToken",value:function addToken(type){this.context.tokens.push(new RuleToken(type,this.context.parens.length))}},{key:"finishAtom",value:function finishAtom(index){if(this.context.atom.length>0){var type,name=this.context.atom.join(""),value=void 0;if(index-=this.context.atom.length,this.lastToken([TokenType.Hash]))type=TokenType.Label;else if(this.vocabulary.isSymbolicName(name)){type=TokenType.Operand;var symbolicIndex=this.vocabulary.symbolicIndex(name);this.vocabulary.hasKeyword(symbolicIndex)?(type=TokenType.Keyword,value=this.vocabulary.keyword(symbolicIndex)):this.vocabulary.hasOperator(symbolicIndex)&&(type=TokenType.Operator,value=this.vocabulary.operator(symbolicIndex))}else name in antlr4ts.Lexer?type=TokenType.Operator:this.vocabulary.isRuleName(name)?type=TokenType.Rule:(type=TokenType.Unknown,Log.warn("Unknown operator token "+name+" at "+index,"RuleTokenizer"));this.context.tokens.push(new RuleToken(type,this.context.parens.length,name,value)),this.context.atom.length=0}}},{key:"finishModifier",value:function finishModifier(){this.context.modifier=void 0}},{key:"unexpected",value:function unexpected(token,index){Log.error("Unexpected token "+token+" at "+index,"RuleTokenizer")}},{key:"clearContext",value:function clearContext(){this.context.tokens=[],this.context.parens=[],this.context.atom=[],this.context.modifier=void 0}},{key:"lastToken",value:function lastToken(filter){if(this.context.tokens.length>0){var last=this.context.tokens[this.context.tokens.length-1];if(last&&(!filter||filter.includes(last.type)))return last}}},{key:"ruleName",value:function ruleName(declaration,index){var ruleNames=this.vocabulary.getRuleNames();if(!ruleNames[index])return declaration;var rgx=new RegExp(ruleNames[index].replace(rgxEscape,"\\$&"),"g");return rgx.test(declaration)?ruleNames[index]:(Log.warn("Mismatched rule "+index+" name. Looking for alternatives.","RuleTokenizer"),ruleNames.forEach((function(ruleName,other){if((rgx=new RegExp(ruleName.replace(rgxEscape,"\\$&"),"g")).test(declaration))return Log.warn("Matched name of rule "+other+".","RuleTokenizer"),ruleName})),Log.error("No alternative for mismatched rule name.","RuleTokenizer"),declaration)}}],[{key:"alternatives",value:function alternatives(tokens){var pipeIndex=-1,statement=[];return tokens.reduce((function(statements,token,index,initial){return 0===token.nested&&token.type===TokenType.Pipe?(0!==(statement=initial.slice(pipeIndex+1,index)).length&&statements.push(statement),pipeIndex=index):index===initial.length-1&&0!==(statement=initial.slice(pipeIndex+1)).length&&statements.push(statement),statements}),[])}},{key:"parentheses",value:function parentheses(tokens){var parenIndex=-1,statement=[];return tokens.reduce((function(statements,token,index,initial){return 0!==token.nested||token.type!==TokenType.Lparen&&token.type!==TokenType.Rparen?index===initial.length-1&&0!==(statement=initial.slice(parenIndex+1)).length&&statements.push(statement):(0!==(statement=initial.slice(parenIndex,index+(token.type===TokenType.Rparen?1:0))).length&&statements.push(statement),parenIndex=index),statements}),[])}},{key:"unnest",value:function unnest(tokens){if(!tokens)return[];var left=tokens[0],right=tokens[tokens.length-1];return left.type===TokenType.Lparen&&right.type===TokenType.Rparen&&left.sibling===right&&(tokens.pop(),tokens.shift(),tokens.forEach((function(token){return token.nested--}))),tokens}}]),RuleTokenizer}(),StatementType=function(StatementType){return StatementType.Rule="r",StatementType.Block="b",StatementType.Operator="o",StatementType.Keyword="k",StatementType.Operand="d",StatementType.Unknown="u",StatementType}({}),SyntaxLink=function(){function SyntaxLink(value){var _this=this;(0,classCallCheck.Z)(this,SyntaxLink),this._type=StatementType.Unknown,this._chain=[],this._keywords=[],this._value="",this._syntax="",this._alternatives=!1,this._multiplied=MultiplyMode.None,this.hasKeyword=function(){return 0!==_this._keywords.length},this.hasChain=function(){return 0!==_this._chain.length},this.hasValue=function(){return""!==_this._value},this.isEmpty=function(){return!_this.hasChain()&&!_this.hasValue()},this.isMultiplied=function(){return _this._multiplied===MultiplyMode.Optional||_this._multiplied===MultiplyMode.Onemore||_this._multiplied===MultiplyMode.Zeromore},this.isOptional=function(){return _this._multiplied===MultiplyMode.Optional||_this._multiplied===MultiplyMode.Zeromore},value&&(this._value=value)}return(0,createClass.Z)(SyntaxLink,[{key:"add",value:function add(entry){var _this$_keywords;this._chain.push(entry),!this._alternatives&&this.hasKeyword()||(_this$_keywords=this._keywords).push.apply(_this$_keywords,(0,toConsumableArray.Z)(entry._keywords)),this._type=StatementType.Block,this.constructSyntax()}},{key:"addAll",value:function addAll(entries){var _this2=this;entries.forEach((function(entry){return _this2.add(entry)}))}},{key:"collapse",value:function collapse(){var _this3=this;if(this._chain=this._chain.filter((function(link){return!link.isEmpty()})),this._alternatives&&this._chain.length<2&&(this._alternatives=!1),1===this._chain.length&&this.overwrite(this._chain[0]),0!==this._chain.length){if(this._alternatives){var _this$_chain,added=[],removed=[];this._chain.forEach((function(link){link._alternatives&&(removed.push(link),link._chain.forEach((function(sublink){sublink._multiplied=mergeMultiplyMode(sublink._multiplied,link._multiplied),added.push(sublink)})))})),this._chain=this._chain.filter((function(link){return!removed.includes(link)})),(_this$_chain=this._chain).push.apply(_this$_chain,added)}else if(this._chain[0].isAlternativeKeywords()){this._alternatives=!0;var link=this._chain.shift(),chain=this._chain;this._chain=[],link&&link._chain.forEach((function(sublink){sublink._multiplied=mergeMultiplyMode(sublink._multiplied,link._multiplied);var alternative=new SyntaxLink;alternative.add(sublink),alternative.addAll(chain),alternative.collapse(),_this3._chain.push(alternative)}))}this.constructSyntax()}}},{key:"overwrite",value:function overwrite(other){this._chain=other._chain,this._keywords=other._keywords,this._alternatives=other._alternatives,this._syntax=other._syntax,this._value=other._value,this._multiplied=mergeMultiplyMode(this._multiplied,other._multiplied),this._type=other._type}},{key:"constructSyntax",value:function constructSyntax(){this.hasValue()?(this._syntax=this.multiplyPrefix()+(this.isType([StatementType.Rule,StatementType.Operand])?"⟨⟨"+this._value+"⟩⟩":this._value)+this.multiplyPostfix(),this.hasChain()&&Log.warn("Link with chain and value "+this._value,"SyntaxLink")):this._alternatives?this._syntax=(this.isMultiplied()?this.multiplyPrefix():"{")+this._chain.map((function(link){return link._syntax})).join(" | ")+(this.isMultiplied()?this.multiplyPostfix():"}¹"):this._syntax=(this.isMultiplied()?this.multiplyPrefix():"")+this._chain.map((function(link){return link._syntax})).join(" ")+(this.isMultiplied()?this.multiplyPostfix():"")}},{key:"multiplyPrefix",value:function multiplyPrefix(){switch(this._multiplied){case MultiplyMode.None:return"";case MultiplyMode.Optional:case MultiplyMode.Onemore:case MultiplyMode.Zeromore:return"{"}}},{key:"multiplyPostfix",value:function multiplyPostfix(){switch(this._multiplied){case MultiplyMode.None:return"";case MultiplyMode.Optional:return"}";case MultiplyMode.Onemore:return"}+";case MultiplyMode.Zeromore:return"}*"}}},{key:"contains",value:function contains(value){return this._chain.some((function(entry){return entry._value===value}))}},{key:"alternatives",get:function get(){return this._alternatives},set:function set(alternatives){this._alternatives=alternatives}},{key:"value",get:function get(){return this._value}},{key:"chain",get:function get(){return this._chain}},{key:"keyword",set:function set(value){this._value=value,this._keywords.push(this._value),this._type=StatementType.Keyword,this.constructSyntax()}},{key:"operator",set:function set(value){this._value=value,this._type=StatementType.Operator,this.constructSyntax()}},{key:"operand",set:function set(value){this._value=value.toLocaleLowerCase(),this._type=StatementType.Operand,this.constructSyntax()}},{key:"rule",set:function set(value){this._value=value,this._type=StatementType.Rule,this.constructSyntax()}},{key:"syntax",get:function get(){return this._syntax}},{key:"multiplied",get:function get(){return this._multiplied},set:function set(value){this._multiplied=value}},{key:"type",get:function get(){return this._type}},{key:"isType",value:function isType(types){return types.includes(this._type)}},{key:"isAlternativeKeywords",value:function isAlternativeKeywords(){return this._alternatives&&this.hasChain()&&this._chain.every((function(link){return link.isType([StatementType.Keyword])}))}},{key:"collectSyntax",value:function collectSyntax(keywords){keywords.createLevel(this.isOptional()),this._alternatives||this._chain.forEach((function(link){switch(link._type){case StatementType.Keyword:keywords.addKeyword(link._value,link._syntax,link._value,link.isOptional());break;case StatementType.Operator:link.isOptional()?keywords.append(link._syntax,""):keywords.append(link._syntax,link._value);break;case StatementType.Operand:case StatementType.Rule:keywords.append(link._syntax,"");break;case StatementType.Block:link.collectSyntax(keywords);break;default:Log.warn("Unknown syntax link type","SyntaxLink")}})),keywords.terminateLevel()}},{key:"unOption",value:function unOption(){if(this._multiplied=MultiplyMode.None,this._alternatives)this._chain.forEach((function(link){return link.unOption()}));else{var link=this._chain[0];link&&link.unOption()}}}]),SyntaxLink}(),GrammarStatement=function(){function GrammarStatement(type,tokens,name){(0,classCallCheck.Z)(this,GrammarStatement),this.type=StatementType.Unknown,this._name=void 0,this._label=void 0,this._value=void 0,this.alternatives=!1,this.unresolved=!1,this.multiplied=MultiplyMode.None,this.greedy=!1,this.statements=[],this.tokens=[],this.token=void 0,this.syntax=[],this.type=type,this.tokens=tokens,name&&(this._name=name)}return(0,createClass.Z)(GrammarStatement,[{key:"processRule",value:function processRule(){var _this=this;if(0!==this.tokens.length&&0===this.statements.length&&!this.token){var tokens=this.tokens;if(1!==tokens.length){var statements=RuleTokenizer.alternatives(tokens);1===statements.length?this.processRuleAlternative(statements[0]):statements.length>1&&(this.alternatives=!0,statements.forEach((function(statement){return _this.addRuleAlternative(statement)})))}else this.processToken(tokens[0])}}},{key:"addRuleAlternative",value:function addRuleAlternative(tokens){if(0!==tokens.length){var statement=new GrammarStatement(StatementType.Block,tokens);this.statements.push(statement),statement.processRuleAlternative(tokens)}}},{key:"processRuleAlternative",value:function processRuleAlternative(tokens){if(0!==tokens.length)if(1!==tokens.length){var hashIndex=tokens.findIndex((function(token){return token.type===TokenType.Hash}));hashIndex>-1&&(this._label=tokens.slice(hashIndex+1).map((function(token){return token.name})).join(""),tokens=tokens.slice(0,hashIndex)),this.processElements(tokens)}else this.processToken(tokens[0])}},{key:"processElements",value:function processElements(tokens){if(0!==tokens.length)if(1!==tokens.length)for(var i=0,length=tokens.length;i<tokens.length;){var token=tokens[i];switch(token.type){case TokenType.Identifier:if(i+2<length){var assign=tokens[++i],element=tokens[++i];if(assign.isAssign()){if(element.type===TokenType.Lparen&&element.sibling){element.label(token.name);var index=tokens.indexOf(element.sibling);index>i&&(this.addBlock(tokens.slice(i,index+1)),i=index);break}if(element.isAtom()){element.label(token.name),this.addAtom(element);break}}}Log.error("Missing or mismatched token(s) after identifier","GrammarStatement");break;case TokenType.Lparen:if(token.sibling){var _index=tokens.indexOf(token.sibling);_index>i&&(this.addBlock(tokens.slice(i,_index+1)),i=_index)}else Log.error("Missing right parenthesis token","GrammarStatement");break;default:token.isAtom()?this.addAtom(token):Log.warn("Unexpected token "+token.name+" of type "+token.type,"GrammarStatement")}i++}else this.processToken(tokens[0])}},{key:"addAtom",value:function addAtom(token){var statement=new GrammarStatement(StatementType.Unknown,[token]);this.statements.push(statement),statement.processToken(token)}},{key:"processToken",value:function processToken(token){switch(this.token=token,this._name=token.name,this._value=token.value,this.multiply(token),token.type){case TokenType.Rule:this.type=StatementType.Rule,this._label||(this._label=token.identifier),this.unresolved=!0;break;case TokenType.Keyword:this.type=StatementType.Keyword,this._label=token.identifier,this.unresolved=!0;break;case TokenType.Operator:this.type=StatementType.Operator,this._label=token.identifier,this.unresolved=!0;break;case TokenType.Operand:this.type=StatementType.Operand,this._label=token.identifier,this.unresolved=!0;break;default:Log.warn("Unexpected token "+token.name+" of type "+token.type,"GrammarStatement")}}},{key:"addBlock",value:function addBlock(tokens){if(0!==tokens.length){var statement=new GrammarStatement(StatementType.Block,tokens);this.statements.push(statement),statement.processBlock(tokens)}}},{key:"processBlock",value:function processBlock(tokens){var _this2=this,left=tokens[0],right=tokens[tokens.length-1];if(left.type===TokenType.Lparen&&right.type===TokenType.Rparen&&left.sibling===right){this.multiply(right),this._label=left.identifier,tokens=RuleTokenizer.unnest(tokens);var statements=RuleTokenizer.alternatives(tokens);1===statements.length?this.processElements(statements[0]):statements.length>1&&(this.alternatives=!0,statements.forEach((function(statement){return _this2.addAlternative(statement)})))}else Log.error("Missing parenthesis tokens in block","GrammarStatement")}},{key:"addAlternative",value:function addAlternative(tokens){if(0!==tokens.length){var statement=new GrammarStatement(StatementType.Block,tokens);this.statements.push(statement),statement.processElements(tokens)}}},{key:"resolveStatements",value:function resolveStatements(rules,operators,visited){if(this.name){if(visited.has(this.name))return;visited.set(this.name,this)}this.statements.forEach((function(statement,index,statements){if(statement.unresolved&&statement.name){if(statement.isToken([TokenType.Rule])){var rule=rules.get(statement.name);rule?(rule!==statement&&(!rule.label&&statement.label&&(rule.label=statement.label),statements[index]=rule),rule.resolveStatements(rules,operators,visited)):Log.warn("Unknown rule in graph "+statement.name,"GrammarStatement")}else if(statement.isToken([TokenType.Keyword,TokenType.Operator,TokenType.Operand])){var operator=operators.get(statement.name);operator?operator!==statement&&(statements[index]=operator):(statement.unresolved=!1,operators.set(statement.name,statement))}}else statement.resolveStatements(rules,operators,visited)}))}},{key:"resolveSyntax",value:function resolveSyntax(keywords){var _this3=this;switch(this.type){case StatementType.Rule:var link;if(this.alternatives)this.statements.forEach((function(statement){(link=statement.constructLink(!1)).hasKeyword()&&_this3.syntax.push(link)}));else{var syntax=new SyntaxLink;this.statements.forEach((function(statement){link=statement.constructLink(syntax.hasKeyword()),(syntax.hasKeyword()||link.hasKeyword())&&syntax.add(link)})),syntax.hasKeyword()&&this.syntax.push(syntax)}break;case StatementType.Keyword:var _syntax=new SyntaxLink;this.value?_syntax.keyword=this.value:Log.warn("Keyword without value "+this.name,"GrammarStatement"),this.syntax.push(_syntax);break;case StatementType.Operator:case StatementType.Operand:break;default:Log.warn("Unknown statement type "+this.type,"GrammarStatement")}if(this.alternatives){var _this$syntax,added=[],removed=[];this.syntax.forEach((function(link){link.alternatives&&(removed.push(link),link.chain.forEach((function(sublink){sublink.multiplied=mergeMultiplyMode(sublink.multiplied,link.multiplied),added.push(sublink)})))})),this.syntax=this.syntax.filter((function(link){return!removed.includes(link)})),(_this$syntax=this.syntax).push.apply(_this$syntax,added)}this.syntax.forEach((function(link){link.collapse(),link.unOption(),link.collectSyntax(keywords)}))}},{key:"constructLink",value:function constructLink(keyword){var syntax=new SyntaxLink;switch(syntax.multiplied=this.multiplied,this.type){case StatementType.Rule:1===this.statements.length?syntax=this.statements[0].constructLink(!1):this.name&&(syntax.rule=this.name);break;case StatementType.Block:if(1===this.statements.length){syntax=this.statements[0].constructLink(keyword);break}var link;this.alternatives?(syntax.alternatives=!0,this.statements.forEach((function(statement){link=statement.constructLink(keyword),(keyword||link.hasKeyword())&&syntax.add(link)}))):this.statements.forEach((function(statement){link=statement.constructLink(keyword||syntax.hasKeyword()),(keyword||syntax.hasKeyword()||link.hasKeyword())&&syntax.add(link)}));break;case StatementType.Keyword:this.value?syntax.keyword=this.value:Log.warn("Keyword without value "+this.name,"GrammarStatement");break;case StatementType.Operator:this.value?syntax.operator=this.value:Log.warn("Operator without value "+this.name,"GrammarStatement");break;case StatementType.Operand:this.name?syntax.operand=this.name:Log.warn("Operand without name","GrammarStatement");break;default:Log.warn("Unknown statement type "+this.type,"GrammarStatement")}return syntax.collapse(),syntax}},{key:"isOptional",value:function isOptional(){return this.multiplied===MultiplyMode.Optional||this.multiplied===MultiplyMode.Zeromore}},{key:"is",value:function is(type){return this.type===type}},{key:"name",get:function get(){return this._name}},{key:"label",get:function get(){return this._label},set:function set(label){this._label=label}},{key:"value",get:function get(){return this._value}},{key:"multiply",value:function multiply(token){this.greedy=this.greedy||token.greedy,this.multiplied!==token.multiplied&&token.multiplied!==MultiplyMode.None&&(this.multiplied=this.multiplied===MultiplyMode.None?token.multiplied:MultiplyMode.Zeromore)}},{key:"isToken",value:function isToken(types){return!!this.token&&types.includes(this.token.type)}}]),GrammarStatement}(),createForOfIteratorHelper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),SyntaxCollection=function(){function SyntaxCollection(){var _this=this;(0,classCallCheck.Z)(this,SyntaxCollection),this.entries=[],this._levels=[],this.terminated=!1,this.isEmpty=function(){return 0===_this.entries.length},this.notEmpty=function(){return 0!==_this.entries.length},this.size=function(){return _this.entries.length}}return(0,createClass.Z)(SyntaxCollection,[{key:"addAll",value:function addAll(entries){var _this$entries;(_this$entries=this.entries).push.apply(_this$entries,(0,toConsumableArray.Z)(entries))}},{key:"createLevel",value:function createLevel(optional){var level=new SyntaxLevel(optional);return this._levels.unshift(level),level}},{key:"terminateLevel",value:function terminateLevel(){var _this$entries2,level=this._levels.shift();level&&(level.terminate(),(_this$entries2=this.entries).push.apply(_this$entries2,(0,toConsumableArray.Z)(level.entries)))}},{key:"addKeyword",value:function addKeyword(keyword,syntax,snippet,optional){var lastLevel=this._levels[0];if(lastLevel){var _step,_iterator=(0,createForOfIteratorHelper.Z)(this._levels);try{for(_iterator.s();!(_step=_iterator.n()).done;){var level=_step.value;if(optional?level.append("",syntax,""):level.append(keyword,syntax,snippet),level.optional)break}}catch(err){_iterator.e(err)}finally{_iterator.f()}var entry=new SyntaxEntry(keyword);optional&&entry.terminate(),lastLevel.add(entry)}}},{key:"append",value:function append(syntax,snippet){var _step2,_iterator2=(0,createForOfIteratorHelper.Z)(this._levels);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var level=_step2.value;if(level.append("",syntax,snippet),level.optional)break}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}},{key:"distinct",value:function distinct(){var distinct=new Map,entries=[];this.entries.forEach((function(entry){var subentries=distinct.get(entry.keyword);subentries?subentries.some((function(subentry){return subentry.equals(entry)}))||(subentries.push(entry),entries.push(entry)):((subentries=[]).push(entry),distinct.set(entry.keyword,subentries),entries.push(entry))})),this.entries=entries}}]),SyntaxCollection}(),SyntaxLevel=function(){function SyntaxLevel(optional){(0,classCallCheck.Z)(this,SyntaxLevel),this.entries=[],this.optional=!1,this.optional=optional}return(0,createClass.Z)(SyntaxLevel,[{key:"add",value:function add(entry){this.entries.push(entry)}},{key:"append",value:function append(keyword,syntax,snippet){this.entries.forEach((function(entry){entry.append(keyword,syntax,snippet)}))}},{key:"terminate",value:function terminate(){this.entries.forEach((function(entry){return entry.terminate()}))}}]),SyntaxLevel}(),SyntaxEntry=function(){function SyntaxEntry(keyword){(0,classCallCheck.Z)(this,SyntaxEntry),this._keyword=void 0,this._syntax=void 0,this._snippet=void 0,this._markdown={value:""},this._terminated=!1,this._kind=editor_main.Mj.CompletionItemKind.Keyword,this.round=!1,this.openRound=0,this.square=!1,this.openSquare=0,this.curly=!1,this.openCurly=0,this.angle=!1,this.openAngle=0,this._keyword=keyword,this._syntax=keyword,this._snippet=keyword}return(0,createClass.Z)(SyntaxEntry,[{key:"terminate",value:function terminate(){this._terminated=!0}},{key:"keyword",get:function get(){return this._keyword}},{key:"syntax",get:function get(){return this._syntax}},{key:"markdown",get:function get(){return this._markdown}},{key:"snippet",get:function get(){return this._snippet}},{key:"terminated",get:function get(){return this._terminated}},{key:"append",value:function append(keyword,syntax,snippet){if(!this._terminated)switch(this._keyword===this._syntax&&""!==keyword&&(this._keyword=this._keyword+" "+keyword),syntax){case"(":this.round=!0,this.openRound++,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet;break;case")":this.round&&this.openRound>0?(this.openRound--,this.round=this.openRound>0,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet):this.terminate();break;case"[":this.square=!0,this.openSquare++,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet;break;case"]":this.square&&this.openSquare>0?(this.openSquare--,this.square=this.openSquare>0,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet):this.terminate();break;case"{":this.curly=!0,this.openCurly++,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet;break;case"}":this.curly&&this.openCurly>0?(this.openCurly--,this.curly=this.openCurly>0,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet):this.terminate();break;case"<":this.angle=!0,this.openAngle++,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet;break;case">":this.angle&&this.openAngle>0?(this.openAngle--,this.angle=this.openAngle>0,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet):this.terminate();break;default:this._syntax=this._syntax+(""!==syntax?" "+syntax:""),this._snippet=this._snippet+(""!==snippet?" "+snippet:"")}}},{key:"equals",value:function equals(entry){return this._keyword===entry._keyword&&this._syntax===entry._syntax&&this._snippet===entry._snippet&&this._terminated===entry._terminated}},{key:"completionKind",value:function completionKind(){return this._kind}}]),SyntaxEntry}(),GrammarGraph=function(){function GrammarGraph(vocabulary,grammar){(0,classCallCheck.Z)(this,GrammarGraph),this.vocabulary=void 0,this.tokenizer=void 0,this.rules=new Map,this.operators=new Map,this.keywords=new SyntaxCollection,this.root=void 0,this.vocabulary=vocabulary,this.tokenizer=new RuleTokenizer(vocabulary),grammar&&grammar.length>0&&this.processRaw(grammar)}return(0,createClass.Z)(GrammarGraph,[{key:"processRaw",value:function processRaw(grammar){var _this=this,processed=grammar.replace(/^export default "|\/\*.*?\*\/|(\\[rnt])+|";$/g," ");this.vocabulary.getLiteralNames().forEach((function(literal,index){var symbolic=_this.vocabulary.symbolicName(index);literal&&processed.includes(literal)&&(processed=processed.replace(new RegExp(literal.replace(rgxEscape,"\\$&"),"g")," "+symbolic+" "))})),processed.split(";").filter((function(value){return value.includes(":")})).forEach((function(value,index){var colon=value.indexOf(":"),name=_this.tokenizer.ruleName(value.substr(0,colon).trim(),index),tokens=_this.tokenizer.tokenize(value.substr(++colon).trim().replace(/ +/g," "));_this.addRule(name,tokens)})),this.rules.forEach((function(rule){return rule.resolveStatements(_this.rules,_this.operators,new Map)})),this.rules.forEach((function(rule){return rule.resolveSyntax(_this.keywords)})),this.keywords.distinct();var rule0=this.vocabulary.ruleName(0);rule0&&(this.root=this.rules.get(rule0))}},{key:"addRule",value:function addRule(name,tokens){var rule=new GrammarStatement(StatementType.Rule,tokens,name);return this.rules.set(name,rule),rule.processRule(),rule}},{key:"rootName",value:function rootName(){return this.root?this.root.name:void 0}},{key:"suggestions",value:function suggestions(){return this.keywords.entries.map((function(entry){return{label:entry.keyword,kind:entry.completionKind(),insertText:entry.snippet,detail:entry.syntax,documentation:""}}))}}]),GrammarGraph}(),keywordRgx=/[a-zA-Z][\w]*/,VocabularyPack=function(){function VocabularyPack(lexer,parser){var _this=this;(0,classCallCheck.Z)(this,VocabularyPack),this.ruleNames=void 0,this.symbolicNames=void 0,this.literalNames=void 0,this.operatorNames=void 0,this.keywordNames=void 0,this.ruleNames=Array.from(parser.ruleNames);var count=lexer.vocabulary.maxTokenType;this.symbolicNames=new Array(count),this.literalNames=new Array(count),this.operatorNames=new Array(count),this.keywordNames=new Array(count);var vocabulary=lexer.vocabulary;lexer.ruleNames.forEach((function(ruleName){if(ruleName in lexer){var _this$literalNames$in,_this$operatorNames$i,index=lexer[ruleName];if("number"==typeof index&&Number.isInteger(index)&&index>0&&index<=count)_this.symbolicNames[index]=ruleName,_this.literalNames[index]=vocabulary.getLiteralName(index),_this.operatorNames[index]=null===(_this$literalNames$in=_this.literalNames[index])||void 0===_this$literalNames$in?void 0:_this$literalNames$in.replace(/^'+|'+$/g,""),_this.keywordNames[index]=keywordRgx.test(null!==(_this$operatorNames$i=_this.operatorNames[index])&&void 0!==_this$operatorNames$i?_this$operatorNames$i:"")?_this.operatorNames[index]:void 0}}))}return(0,createClass.Z)(VocabularyPack,[{key:"ruleName",value:function ruleName(index){return this.ruleNames[index]}},{key:"symbolicName",value:function symbolicName(index){return this.symbolicNames[index]}},{key:"operator",value:function operator(index){return this.operatorNames[index]}},{key:"keyword",value:function keyword(index){return this.keywordNames[index]}},{key:"getLiteralNames",value:function getLiteralNames(){return this.literalNames}},{key:"getSymbolicNames",value:function getSymbolicNames(){return this.symbolicNames}},{key:"isSymbolicName",value:function isSymbolicName(name){return this.symbolicNames.includes(name)}},{key:"isRuleName",value:function isRuleName(name){return this.ruleNames.includes(name)}},{key:"symbolicIndex",value:function symbolicIndex(name){return this.symbolicNames.indexOf(name)}},{key:"hasKeyword",value:function hasKeyword(index){return!!this.keywordNames[index]}},{key:"hasOperator",value:function hasOperator(index){return!!this.operatorNames[index]}},{key:"getRuleNames",value:function getRuleNames(){return this.ruleNames}}]),VocabularyPack}(),TokensProvider=function(){function TokensProvider(tools){(0,classCallCheck.Z)(this,TokensProvider),this.definition=void 0;var Lexer=tools.Lexer,_tools$monarchDefinit=tools.monarchDefinition,monarchDefinition=void 0===_tools$monarchDefinit?{}:_tools$monarchDefinit;this.definition=JSON.parse(JSON.stringify(monarchDefinition),rgxReviver),this.createCategories(),this.addTokens(Lexer)}return(0,createClass.Z)(TokensProvider,[{key:"createCategories",value:function createCategories(){this.createCategory("keywords"),this.createCategory("operators"),this.createCategory("specials"),this.createCategory("variables"),this.createCategory("attributes"),this.createCategory("dimensions"),this.createCategory("primaryMeasures")}},{key:"createCategory",value:function createCategory(category){category in this.definition&&this.definition.keywords instanceof Array||(this.definition[category]=new Array)}},{key:"addTokens",value:function addTokens(lexer){var _this=this,vocabulary=lexer.VOCABULARY;lexer.ruleNames.forEach((function(_,index){var tokenName=vocabulary.getLiteralName(++index);tokenName&&(tokenName=tokenName.replace(/^'+|'+$/g,""),keywordRgx.test(tokenName)?_this.definition.keywords.push(tokenName):vocabulary.getSymbolicName(index)?_this.definition.specials.push(tokenName):_this.definition.operators.push(tokenName))}))}},{key:"monarchLanguage",value:function monarchLanguage(){return this.definition}},{key:"addVariables",value:function addVariables(){this.definition.variables.push("ds_L_CY","ErrB","ds_V_PY")}}]),TokensProvider}(),rgxPrefix="_RGX_",rgxRgx=/\/(.*)\/(.*)?/;function rgxReviver(_,value){var strValue=value.toString();if(0===strValue.indexOf(rgxPrefix)){var matchArray=strValue.split(rgxPrefix)[1].match(rgxRgx);return new RegExp(matchArray[1],matchArray[2]||"")}return value}editor_main.Mj.CompletionItemKind.Function,editor_main.Mj.CompletionItemKind.Enum,editor_main.Mj.CompletionItemKind.Property;var VARIABLE=editor_main.Mj.CompletionItemKind.Variable,completionItemDispose=(editor_main.Mj.CompletionItemKind.Keyword,editor_main.Mj.CompletionItemKind.Snippet,editor_main.Mj.CompletionItemInsertTextRule.InsertAsSnippet,void 0),buildGrammarGraph=function buildGrammarGraph(tools){var Lexer=tools.Lexer,Parser=tools.Parser,grammar=tools.grammar,lexer=createLexer(Lexer)(""),parser=function createParser(_ref){var Lexer=_ref.Lexer,Parser=_ref.Parser;return function(input){var lexer=createLexer(Lexer)(input);return createParserFromLexer(Parser)(lexer)}}({Lexer,Parser})(""),vocabulary=new VocabularyPack(lexer,parser);return new GrammarGraph(vocabulary,grammar)},getVtlTheme=function getVtlTheme(name){switch(name){case"vtl-default":return{base:"vs",inherit:!0,rules:[{token:"string",foreground:"018B03"},{token:"comment",foreground:"939393"},{token:"operator",foreground:"8B3301"},{token:"attribute",foreground:"9ffb88"},{token:"dimension",foreground:"f7b74e"},{token:"primaryMeasure",foreground:"953d55"},{token:"delimiter.bracket",foreground:"8B3301"},{token:"operator.special",foreground:"8B3301",fontStyle:"bold"}],colors:{}};case"vtl-light":return{base:"vs",inherit:!0,rules:[{token:"attribute",foreground:"9ffb88"},{token:"dimension",foreground:"f7b74e"},{token:"primaryMeasure",foreground:"953d55"}],colors:{}};case"vtl-dark":return{base:"vs-dark",inherit:!0,rules:[{token:"attribute",foreground:"9ffb88"},{token:"dimension",foreground:"f7b74e"},{token:"primaryMeasure",foreground:"953d55"}],colors:{}};case"vtl-black":return{base:"hc-black",inherit:!0,rules:[{token:"attribute",foreground:"9ffb88"},{token:"dimension",foreground:"f7b74e"},{token:"primaryMeasure",foreground:"953d55"}],colors:{}}}return{base:"vs",colors:{},inherit:!0,rules:[]}},getSuggestions=function getSuggestions(tools,_ref2){var variables=_ref2.variables;return function(model,position){var textUntilPosition=model.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:position.lineNumber,endColumn:position.column}),word=model.getWordUntilPosition(position),range={startLineNumber:position.lineNumber,endLineNumber:position.lineNumber,startColumn:word.startColumn,endColumn:word.endColumn},uniquetext=Array.from(new Set(textUntilPosition.replace(/"(.*?)"/g,"").replace(/[^a-zA-Z_]/g," ").split(" ").filter((function(w){return""!==w}))).values());buildGrammarGraph(tools);var _tools$getSuggestions=tools.getSuggestionsFromRange,grammarSuggestions=(void 0===_tools$getSuggestions?function(){return[]}:_tools$getSuggestions)(range),suggestionList=0!==grammarSuggestions.length?grammarSuggestions:buildGrammarGraph(tools).suggestions();uniquetext=function removeLanguageSyntaxFromList(vars,suggestionList){var suggestionsLabels=suggestionList.map((function(s){return s.label.toLowerCase()}));return vars.filter((function(t){return!suggestionsLabels.includes(t.toLowerCase())}))}(uniquetext,suggestionList);var array=uniquetext.map((function(w){return{label:w,kind:editor_main.Mj.CompletionItemKind.Variable,insertText:w}})),vars=(variables||[]).map((function(_ref3){var label=_ref3.label,name=_ref3.name;return{label,kind:VARIABLE,insertText:name,range}}));return{suggestions:[].concat((0,toConsumableArray.Z)(array),(0,toConsumableArray.Z)(vars),(0,toConsumableArray.Z)(suggestionList))}}},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Editor=function Editor(_ref){var script=_ref.script,setScript=_ref.setScript,onListErrors=_ref.onListErrors,customFetcher=_ref.customFetcher,variables=_ref.variables,variablesInputURLs=_ref.variablesInputURLs,tools=_ref.tools,_ref$height=_ref.height,height=void 0===_ref$height?"50vh":_ref$height,_ref$width=_ref.width,width=void 0===_ref$width?"100%":_ref$width,_ref$theme=_ref.theme,theme=void 0===_ref$theme?"vs-dark":_ref$theme,options=_ref.options,editorRef=(0,react.useRef)(null),monacoRef=(0,react.useRef)(null),_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),ready=_useState2[0],setReady=_useState2[1],_useState3=(0,react.useState)(function buildVariables(variables){return variables?Object.entries(variables).map((function(_ref){var _ref2=(0,slicedToArray.Z)(_ref,2),name=_ref2[0],_ref2$=_ref2[1],type=_ref2$.type;return{name,type,role:_ref2$.role,label:"".concat(name.toUpperCase()," (").concat(type,")")}})):[]}(variables)),_useState4=(0,slicedToArray.Z)(_useState3,2),vars=_useState4[0],setVars=_useState4[1],parseContent=(0,react.useCallback)((function(t,str){var _monacoRef$current,editor=editorRef.current,monacoErrors=function validate(_ref2){var Lexer=_ref2.Lexer,Parser=_ref2.Parser,initialRule=_ref2.initialRule;return function(input){var errors=[],lexer=createLexer(Lexer)(input);lexer.removeErrorListeners(),lexer.addErrorListener(new ConsoleErrorListener);var parser=createParserFromLexer(Parser)(lexer);return parser.removeErrorListeners(),parser.addErrorListener(new CollectorErrorListener(errors)),parser[initialRule](),errors}}(t)((null==editor?void 0:editor.getValue())||str).map((function(error){return{startLineNumber:error.startLine,startColumn:error.startCol,endLineNumber:error.endLine,endColumn:error.endCol,message:error.message,severity:editor_api.MarkerSeverity.Error}})),model=null==editor?void 0:editor.getModel();model&&(null===(_monacoRef$current=monacoRef.current)||void 0===_monacoRef$current||_monacoRef$current.editor.setModelMarkers(model,"owner",monacoErrors)),onListErrors&&onListErrors(monacoErrors.map((function(error){return{line:error.startLineNumber,column:error.startColumn,message:error.message}})))}),[onListErrors]);return(0,react.useEffect)((function(){Array.isArray(variablesInputURLs)&&0!==variablesInputURLs.length||setReady(!0);var f=customFetcher||fetch;variablesInputURLs&&variablesInputURLs.length>0&&!ready&&Promise.all(variablesInputURLs.map((function(v){return f(v)}))).then((function(res){return Promise.all(res.map((function(r){return r.json()}))).then((function(res){var uniqueVars=function buildUniqueVariables(variables){return variables.reduce((function(acc,a){return[].concat((0,toConsumableArray.Z)(acc),(0,toConsumableArray.Z)(a))}),[]).map((function(v){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},v),{},{label:"".concat(v.name.toUpperCase()).concat(v.type?" (".concat(v.type,")"):"")})}))}(res);setVars((function(v){return[].concat((0,toConsumableArray.Z)(v),(0,toConsumableArray.Z)(uniqueVars))})),setReady(!0)}))})).catch((function(){setReady(!0)}))}),[variablesInputURLs]),(0,react.useEffect)((function(){parseContent(tools)}),[tools.initialRule]),ready?(0,jsx_runtime.jsx)(dist.ZP,{value:script,height,width,onMount:function onMount(e,m){parseContent(tools,script),function onMount(editor,mon,t){var parseContentTO,contentChangeTO;editorRef.current=editor,monacoRef.current=mon,editor.onDidChangeModelContent((function(){parseContentTO&&clearTimeout(parseContentTO),parseContentTO=setTimeout((function(){parseContent(t)}),0),contentChangeTO||setScript&&(contentChangeTO=setTimeout((function(){setScript(editor.getValue()),contentChangeTO=void 0}),200))}))}(e,m,tools),function getEditorWillMount(tools){return function(_ref){var variables=_ref.variables,editor=_ref.editor,id=tools.id;return function(monaco){if(monaco.languages.register({id}),tools.monarchDefinition){var tokensProvider=new TokensProvider(tools);monaco.languages.setMonarchTokensProvider(id,tokensProvider.monarchLanguage())}monaco.editor.defineTheme(id,{base:"vs",inherit:!0,rules:[{token:"string",foreground:"018B03"},{token:"comment",foreground:"939393"},{token:"operator",foreground:"8B3301"},{token:"delimiter.bracket",foreground:"8B3301"},{token:"operator.special",foreground:"8B3301",fontStyle:"bold"}],colors:{}}),monaco.editor.defineTheme("vtl-default",getVtlTheme("vtl-default")),monaco.editor.defineTheme("vtl-light",getVtlTheme("vtl-light")),monaco.editor.defineTheme("vtl-dark",getVtlTheme("vtl-dark")),monaco.editor.defineTheme("vtl-black",getVtlTheme("vtl-black")),monaco.languages.setLanguageConfiguration(id,{surroundingPairs:[{open:"{",close:"}"},{open:"(",close:")"},{open:"[",close:"]"}],autoClosingPairs:[{open:"{",close:"}"},{open:"(",close:")"},{open:"[",close:"]"}],brackets:[["{","}"],["(",")"],["[","]"]]}),completionItemDispose&&completionItemDispose.dispose(),completionItemDispose=monaco.languages.registerCompletionItemProvider(id,{provideCompletionItems:getSuggestions(tools,{variables})});var widget=editor.getContribution("editor.contrib.suggestController").widget;widget&&widget.value._setDetailsVisible(!0)}}}(tools)({variables:vars,editor:e})(m)},onChange:function onChange(){parseContent(tools)},theme,language:tools.id,options}):null};const src_Editor=Editor;try{__function.displayName="Editor",__function.__docgenInfo={description:"",displayName:"Editor",props:{script:{defaultValue:null,description:"",name:"script",required:!1,type:{name:"string"}},setScript:{defaultValue:null,description:"",name:"setScript",required:!1,type:{name:"((value: string) => void)"}},customFetcher:{defaultValue:null,description:"",name:"customFetcher",required:!1,type:{name:"((url: string) => Promise<any>)"}},variables:{defaultValue:null,description:"",name:"variables",required:!1,type:{name:"Variables"}},variablesInputURLs:{defaultValue:null,description:"",name:"variablesInputURLs",required:!1,type:{name:"string[]"}},tools:{defaultValue:null,description:"",name:"tools",required:!0,type:{name:"Tools"}},onListErrors:{defaultValue:null,description:"",name:"onListErrors",required:!1,type:{name:"((errors: Error[]) => void)"}},height:{defaultValue:{value:"50vh"},description:"",name:"height",required:!1,type:{name:"string"}},width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string"}},theme:{defaultValue:{value:"vs-dark"},description:"",name:"theme",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"IStandaloneEditorConstructionOptions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Editor.tsx#Editor"]={docgenInfo:Editor.__docgenInfo,name:"Editor",path:"src/Editor.tsx#Editor"})}catch(__react_docgen_typescript_loader_error){}var lib=__webpack_require__("./node_modules/@making-sense/vtl-2-0-antlr-tools-ts/lib/index.js");const monarch_definition_namespaceObject=JSON.parse('{"defaultToken":"invalid","tokenPostfix":".vtl","keywords":[],"typeKeywords":[],"operators":[],"specials":[],"variables":[],"symbols":"_RGX_/[=><!~?:&|+\\\\-*\\\\/\\\\^%]+/","escapes":"_RGX_/\\\\\\\\(?:[abfnrtv\\\\\\\\\\"\']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/","digits":"_RGX_/\\\\d+(_+\\\\d+)*/","octaldigits":"_RGX_/[0-7]+(_+[0-7]+)*/","binarydigits":"_RGX_/[0-1]+(_+[0-1]+)*/","hexdigits":"_RGX_/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/","regexpctl":"_RGX_/[(){}\\\\[\\\\]\\\\$\\\\^|\\\\-*+?\\\\.]/","regexpesc":"_RGX_/\\\\\\\\(?:[bBdDfnrstvwWn0\\\\\\\\\\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/","tokenizer":{"root":[["_RGX_/[{}]/","delimiter.bracket"],{"include":"common"}],"common":[["_RGX_/[a-z_$][\\\\w$]*/",{"cases":{"@typeKeywords":"keyword","@keywords":"keyword","@variables":"variable","@default":"identifier"}}],["_RGX_/[A-Z][\\\\w\\\\$]*/",{"cases":{"@typeKeywords":"keyword","@keywords":"keyword","@variables":"variable","@default":"identifier"}}],{"include":"@whitespace"},["_RGX_/\\\\/(?=([^\\\\\\\\\\\\/]|\\\\\\\\.)+\\\\/([gimsuy]*)(\\\\s*)(\\\\.|;|\\\\/|,|\\\\)|\\\\]|\\\\}|$))/",{"token":"regexp","bracket":"@open","next":"@regexp"}],["_RGX_/[()\\\\[\\\\]]/","delimiter.bracket"],["_RGX_/[<>](?!@symbols)/","delimiter.bracket"],["_RGX_/@symbols/",{"cases":{"@operators":"operator","@specials":"operator.special","@default":""}}],["_RGX_/(@digits)[eE]([\\\\-+]?(@digits))?/","number.float"],["_RGX_/(@digits)\\\\.(@digits)([eE][\\\\-+]?(@digits))?/","number.float"],["_RGX_/0[xX](@hexdigits)/","number.hex"],["_RGX_/0[oO]?(@octaldigits)/","number.octal"],["_RGX_/0[bB](@binarydigits)/","number.binary"],["_RGX_/(@digits)/","number"],["_RGX_/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*$/","string.invalid"],["_RGX_/\'([^\'\\\\\\\\]|\\\\\\\\.)*$/","string.invalid"],["_RGX_/\\"/","string","@string_double"],["_RGX_/\'/","string","@string_single"],["_RGX_/`/","string","@string_backtick"]],"whitespace":[["_RGX_/[ \\\\t\\\\r\\\\n]+/",""],["_RGX_/\\\\/\\\\*\\\\*(?!\\\\/)/","comment.doc","@jsdoc"],["_RGX_/\\\\/\\\\*/","comment","@comment"],["_RGX_/\\\\/\\\\/.*$/","comment"]],"comment":[["_RGX_/[^\\\\/*]+/","comment"],["_RGX_/\\\\*\\\\//","comment","@pop"],["_RGX_/[\\\\/*]/","comment"]],"jsdoc":[["_RGX_/[^\\\\/*]+/","comment.doc"],["_RGX_/\\\\*\\\\//","comment.doc","@pop"],["_RGX_/[\\\\/*]/","comment.doc"]],"regexp":[["_RGX_/(\\\\{)(\\\\d+(?:,\\\\d*)?)(\\\\})/",["regexp.escape.control","regexp.escape.control","regexp.escape.control"]],["_RGX_/(\\\\[)(\\\\^?)(?=(?:[^\\\\]\\\\\\\\\\\\/]|\\\\\\\\.)+)/",["regexp.escape.control",{"token":"regexp.escape.control","next":"@regexrange"}]],["_RGX_/(\\\\()(\\\\?:|\\\\?=|\\\\?!)/",["regexp.escape.control","regexp.escape.control"]],["_RGX_/[()]/","regexp.escape.control"],["_RGX_/@regexpctl/","regexp.escape.control"],["_RGX_/[^\\\\\\\\\\\\/]/","regexp"],["_RGX_/@regexpesc/","regexp.escape"],["_RGX_/\\\\\\\\\\\\./","regexp.invalid"],["_RGX_/(\\\\/)([gimsuy]*)/",[{"token":"regexp","bracket":"@close","next":"@pop"},"keyword.other"]]],"regexrange":[["_RGX_/-/","regexp.escape.control"],["_RGX_/\\\\^/","regexp.invalid"],["_RGX_/@regexpesc/","regexp.escape"],["_RGX_/[^\\\\]]/","regexp"],["_RGX_/\\\\]/",{"token":"regexp.escape.control","next":"@pop","bracket":"@close"}]],"string_double":[["_RGX_/[^\\\\\\\\\\"]+/","string"],["_RGX_/@escapes/","string.escape"],["_RGX_/\\\\\\\\./","string.escape.invalid"],["_RGX_/\\"/","string","@pop"]],"string_single":[["_RGX_/[^\\\\\\\\\']+/","string"],["_RGX_/@escapes/","string.escape"],["_RGX_/\\\\\\\\./","string.escape.invalid"],["_RGX_/\'/","string","@pop"]],"string_backtick":[["_RGX_/\\\\$\\\\{/",{"token":"delimiter.bracket","next":"@bracketCounting"}],["_RGX_/[^\\\\\\\\`$]+/","string"],["_RGX_/@escapes/","string.escape"],["_RGX_/\\\\\\\\./","string.escape.invalid"],["_RGX_/`/","string","@pop"]],"bracketCounting":[["_RGX_/\\\\{/","delimiter.bracket","@bracketCounting"],["_RGX_/\\\\}/","delimiter.bracket","@pop"],{"include":"common"}]}}');var suggestions_FUNCTION=editor_main.Mj.CompletionItemKind.Function,suggestions_KEYWORD=(editor_main.Mj.CompletionItemKind.Variable,editor_main.Mj.CompletionItemKind.Keyword),suggestions_SNIPPET=editor_main.Mj.CompletionItemKind.Snippet,suggestions_INSERT_AS_SNIPPET=editor_main.Mj.CompletionItemInsertTextRule.InsertAsSnippet,getSuggestionsFromRange=function getSuggestionsFromRange(range){return[{label:"eval",kind:suggestions_FUNCTION,insertText:"eval",range,documentation:{value:"The eval operator invokes an external, non-VTL routine, and returns its result as a Data Set or a scalar. \n\n **Syntax** \n\n    eval(externalRoutineName({argument}{,argument}*) language languageName returns outputType)"}},{label:"if",kind:suggestions_KEYWORD,insertText:"if",range,documentation:{value:"Conditional operator  \n\n **Syntax** \n\n    if condition then thenOperand else elseOperand "}},{label:"then",kind:suggestions_KEYWORD,insertText:"then",range,documentation:{value:"Conditional operator  \n\n **Syntax** \n\n    if condition then thenOperand else elseOperand "}},{label:"else",kind:suggestions_KEYWORD,insertText:"else",range,documentation:{value:"Conditional operator  \n\n **Syntax** \n\n    if condition then thenOperand else elseOperand "}},{label:"using",kind:suggestions_KEYWORD,insertText:"using",range},{label:"with",kind:suggestions_KEYWORD,insertText:"with",range},{label:"current_date",kind:suggestions_FUNCTION,insertText:"current_date()",range,documentation:{value:"The operator current_date returns the current time as a date type.   \n\n **Syntax** \n\n    current_date() "}},{label:"on",kind:suggestions_KEYWORD,insertText:"on",range},{label:"drop",kind:suggestions_KEYWORD,insertText:"drop",range,documentation:{value:"The operator takes as input a Data Set (op) and  some Component names of such a Data Set (comp).   \n\n **Syntax** \n\n    op [drop  comp { , comp }* ]  "}},{label:"keep",kind:suggestions_KEYWORD,insertText:"keep",range,documentation:{value:"The operator takes as input a Data Set (op) and some Component names of such a Data Set (comp).  \n\n **Syntax** \n\n    op [ keep comp {, comp }* ] "}},{label:"calc",kind:suggestions_KEYWORD,insertText:"calc",range,documentation:{value:"The operator calculates new Identifier, Measure or Attribute Components on the basis of sub-expressions at Component level.   ***\n\n*Example*\n\n    DS_1 [ calc Me_3 := Me_1 + Me_2] "}},{label:"attrcalc",kind:suggestions_KEYWORD,insertText:"attrcalc",range},{label:"rename",kind:suggestions_KEYWORD,insertText:"rename",range,documentation:{value:"The operator assigns new names to one or more Components (Identifier, Measure or Attribute Components).    \n\n **Syntax** \n\n    op [ rename  comp_from  to  comp_to  { , comp_from  to  comp_to}*  ]   "}},{label:"as",kind:suggestions_KEYWORD,insertText:"as",range},{label:"and",kind:suggestions_KEYWORD,insertText:"and",range,documentation:{value:"The and operator returns TRUE if both operands are TRUE, otherwise FALSE. The two operands must be of boolean type.  \n\n **Syntax** \n\n    op1 and op2  "}},{label:"or",kind:suggestions_KEYWORD,insertText:"or",range,documentation:{value:"The or operator returns TRUE if at least one of the operands is TRUE, otherwise FALSE. The two operands must be of boolean type.  \n\n **Syntax** \n\n    op1 or op2  "}},{label:"xor",kind:suggestions_KEYWORD,insertText:"xor",range,documentation:{value:"The xor operator returns TRUE if only one of the operand is TRUE (but not both), FALSE otherwise. The two operands must be of boolean type.   \n\n **Syntax** \n\n    op1 xor op2  "}},{label:"not",kind:suggestions_KEYWORD,insertText:"not",range,documentation:{value:"The not operator returns TRUE if op is FALSE, otherwise TRUE. The input operand must be of boolean type.  \n\n **Syntax** \n\n    not op2  "}},{label:"between",kind:suggestions_FUNCTION,insertText:"between",range,documentation:{value:"The operator returns TRUE if op is greater than or equal to from and lower than or equal to to.   \n\n **Syntax** \n\n    between (op, from, to)  "}},{label:"levenshtein",kind:suggestions_FUNCTION,insertText:"levenshtein",range,documentation:{value:"The operator returns the levenshtein distance between the two inputed strings.   \n\n **Syntax** \n\n    levenshtein (left, right)  "}},{label:"in",kind:suggestions_KEYWORD,insertText:"in",range,documentation:{value:"The in operator returns TRUE if op belongs to the collection, FALSE otherwise.    \n\n **Syntax** \n\n    op in collection  "}},{label:"not_in",kind:suggestions_KEYWORD,insertText:"not_in",range,documentation:{value:"The not_in operator returns FALSE if op belongs to the collection, TRUE otherwise.     \n\n **Syntax** \n\n    op not_in collection  "}},{label:"isnull",kind:suggestions_FUNCTION,insertText:"isnull",range,documentation:{value:"The operator returns TRUE if the value of the operand is NULL, FALSE otherwise.     \n\n **Syntax** \n\n    isnull(op)  "}},{label:"ex",kind:suggestions_KEYWORD,insertText:"ex",range},{label:"union",kind:suggestions_FUNCTION,insertText:"union",range,documentation:{value:"The union operator implements the union of functions (i.e., Data Sets).   \n\n **Syntax** \n\n    union ( ds { , ds }*) "}},{label:"diff",kind:suggestions_KEYWORD,insertText:"diff",range},{label:"symdiff",kind:suggestions_FUNCTION,insertText:"symdiff",range,documentation:{value:"The operator implements the symmetric set difference between functions (i.e. Data Sets), interpreting the Data Points of the input Data Sets as the elements in the operand Sets.   \n\n **Syntax** \n\n    symdiff(ds1, ds) "}},{label:"intersect",kind:suggestions_FUNCTION,insertText:"intersect",range,documentation:{value:"The intersect operator implements the intersection of functions (i.e., Data Sets).   \n\n **Syntax** \n\n    intersect ( ds { , ds }*) "}},{label:"keys",kind:suggestions_KEYWORD,insertText:"KEYS",range},{label:"check",kind:suggestions_FUNCTION,insertText:"check",range,documentation:{value:"*Syntax*\n\n    check ( op { errorcode errorcode } { errorlevel errorlevel } { imbalance imbalance } { output } )   \n\noutput ::=  invalid | all "}},{label:"exists_in",kind:suggestions_FUNCTION,insertText:"exists_in",range,documentation:{value:"The operator returns TRUE if the value of the operand is NULL, FALSE otherwise.     \n\n **Syntax** \n\n    exists_in ( op1, op2 { , retain } )   \n\n *retain* ::= true | false | all"}},{label:"to",kind:suggestions_KEYWORD,insertText:"to",range},{label:"return",kind:suggestions_KEYWORD,insertText:"return",range},{label:"imbalance",kind:suggestions_KEYWORD,insertText:"imbalance",range,documentation:{value:"Imbalance is a numeric mono-measure Data Set with the same Identifiers of op. If not specified then imbalance is NULL"}},{label:"errorcode",kind:suggestions_KEYWORD,insertText:"errorcode",range},{label:"all",kind:suggestions_KEYWORD,insertText:"all",range},{label:"aggr",kind:suggestions_KEYWORD,insertText:"aggr",range,documentation:{value:"The operator aggr calculates aggregations of dependent Components (Measures or Attributes) on the basis of sub-expressions at Component level.     \n\n **Syntax** \n\n    op [ aggr aggrClause { groupingClause } ]  "}},{label:"errorlevel",kind:suggestions_KEYWORD,insertText:"errorlevel",range},{label:"order",kind:suggestions_KEYWORD,insertText:"order",range},{label:"by",kind:suggestions_KEYWORD,insertText:"by",range},{label:"rank",kind:suggestions_FUNCTION,insertText:"rank",range,documentation:{value:"Rank (order number) of a Data Point in an ordered set of Data Points.   \n\n **Syntax** \n\n    rank( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    rank( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"asc",kind:suggestions_KEYWORD,insertText:"asc",range},{label:"desc",kind:suggestions_KEYWORD,insertText:"desc",range},{label:"min",kind:suggestions_FUNCTION,insertText:"min",range,documentation:{value:"Minimum value of a set of values .   \n\n **Syntax** \n\n    min( firstOperand  { , additionalOperand }* { groupingClause } \n\n     min( firstOperand { , additionalOperand }*  over ( analyticClause ) "}},{label:"max",kind:suggestions_FUNCTION,insertText:"max",range,documentation:{value:"Maximum value of a set of values .   \n\n **Syntax** \n\n    max( firstOperand  { , additionalOperand }* { groupingClause } \n\n     max( firstOperand { , additionalOperand }*  over ( analyticClause ) "}},{label:"first",kind:suggestions_KEYWORD,insertText:"first",range},{label:"last",kind:suggestions_KEYWORD,insertText:"last",range},{label:"indexof",kind:suggestions_KEYWORD,insertText:"indexof",range},{label:"abs",kind:suggestions_FUNCTION,insertText:"abs",range,documentation:{value:"The operator abs calculates the absolute value of a number.  \n\n For example:\n\n abs(-3.141) gives 3.141   \n\n **Syntax** \n\n    abs(op) "}},{label:"key",kind:suggestions_KEYWORD,insertText:"key",range},{label:"ln",kind:suggestions_FUNCTION,insertText:"ln",range,documentation:{value:"The operator ln calculates the natural logarithm of a number.   \n\n **Syntax** \n\n    ln(op) "}},{label:"log",kind:suggestions_FUNCTION,insertText:"log",range,documentation:{value:"The operator log calculates the logarithm of num base op.  \n\n **Syntax** \n\n    log(op , num) "}},{label:"trunc",kind:suggestions_FUNCTION,insertText:"trunc",range,documentation:{value:"The operator trunc truncates the operand to a number of positions at the right of the decimal point equal to the numDigit parameter.   \n\n **Syntax** \n\n    trunc ( op , numDigit ) "}},{label:"round",kind:suggestions_FUNCTION,insertText:"round",range,documentation:{value:"The operator round rounds the operand to a number of positions at the right of the decimal point equal to the numDigit parameter.    \n\n **Syntax** \n\n    round( op , numDigit  )  "}},{label:"power",kind:suggestions_FUNCTION,insertText:"power",range,documentation:{value:"The operator power raises a number (the base) to another one (the exponent).    \n\n **Syntax** \n\n    power(base , exponent) "}},{label:"mod",kind:suggestions_FUNCTION,insertText:"mod",range,documentation:{value:"The operator mod returns the remainder of op1 divided by op2. It returns op1 if divisor op2 is 0.   \n\n **Syntax** \n\n    mod(op1, op2 ) "}},{label:"length",kind:suggestions_FUNCTION,insertText:"length",range,documentation:{value:"Returns the length of a string.   \n\n **Syntax** \n\n    len( op ) "}},{label:"trim",kind:suggestions_FUNCTION,insertText:"trim",range,documentation:{value:'Removes trailing and leading whitespace from a string.  For example,    trim("Hello ") gives  "Hello".   \n\n **Syntax** \n\n    trim(operand) '}},{label:"upper",kind:suggestions_FUNCTION,insertText:"upper",range,documentation:{value:'Converts the character case of a string in upper case. For example,  upper("Hello") gives  "HELLO".   \n\n **Syntax** \n\n    upper(operand) '}},{label:"lower",kind:suggestions_FUNCTION,insertText:"lower",range,documentation:{value:'Converts the character case of a string in  lower case. For example,  lower("Hello") gives  "hello".   \n\n **Syntax** \n\n    lower(operand) '}},{label:"substr",kind:suggestions_FUNCTION,insertText:"substr",range,documentation:{value:"The operator extracts a substring from op, which must be string type. The substring starts from the start character of the input string and has a number of characters equal to the length parameter.    \n\n **Syntax** \n\n    substr ( op, start, length ) "}},{label:"sum",kind:suggestions_FUNCTION,insertText:"sum",range,documentation:{value:"Sum of a set of numbers.   \n\n **Syntax** \n\n    sun( firstOperand  { , additionalOperand }* { groupingClause }  "}},{label:"avg",kind:suggestions_FUNCTION,insertText:"avg",range,documentation:{value:"Average value of a set of numbers.   \n\n **Syntax** \n\n    avg( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    avg( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"median",kind:suggestions_FUNCTION,insertText:"median",range,documentation:{value:"Median value of a set of values .   \n\n **Syntax** \n\n    median( firstOperand  { , additionalOperand }* { groupingClause } \n\n    median( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"count",kind:suggestions_FUNCTION,insertText:"count",range,documentation:{value:"Number of Data Points.   \n\n **Syntax** \n\n    count( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    count( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"identifier",kind:suggestions_KEYWORD,insertText:"identifier",range},{label:"measure",kind:suggestions_KEYWORD,insertText:"measure",range},{label:"attribute",kind:suggestions_KEYWORD,insertText:"attribute",range},{label:"filter",kind:suggestions_KEYWORD,insertText:"filter",range,documentation:{value:"The operator takes as input a Data Set (op) and a boolean Component expression (filterCondition) and filters the input Data Points according to the evaluation of the condition.   \n\n **Syntax** \n\n    op[ filter  filterCondition ] "}},{label:"merge",kind:suggestions_KEYWORD,insertText:"merge",range},{label:"exp",kind:suggestions_FUNCTION,insertText:"exp",range,documentation:{value:"The operator exp returns e (base of the natural logarithm) raised to the op-th power.  \n\n **Syntax** \n\n    exp(op) "}},{label:"componentRole",kind:suggestions_KEYWORD,insertText:"componentRole",range},{label:"viral",kind:suggestions_KEYWORD,insertText:"viral",range},{label:"match_characters",kind:suggestions_FUNCTION,insertText:"match_characters",range,documentation:{value:"match_characters returns TRUE if op matches the regular expression regexp, FALSE otherwise.   \n\n **Syntax** \n\n    match_characters ( op , pattern ) "}},{label:"type",kind:suggestions_KEYWORD,insertText:"type",range},{label:"nvl",kind:suggestions_FUNCTION,insertText:"nvl",range,documentation:{value:"The operator nvl returns op2 when op1 is null, otherwise op1.    \n\n **Syntax** \n\n    nvl ( op1 , op2 )  "}},{label:"hierarchy",kind:suggestions_FUNCTION,insertText:"hierarchy",range,documentation:{value:"The hierarchy operator applies the rules of hr to op as specified in the parameters.   \n\n **Syntax** \n\n    hierarchy( op , hr { condition condComp { , condComp }* } { rule ruleComp } { mode } { input } { output } ) "}},{label:"invalid",kind:suggestions_KEYWORD,insertText:"invalid",range},{label:"valuedomain",kind:suggestions_KEYWORD,insertText:"valuedomain",range},{label:"variable",kind:suggestions_KEYWORD,insertText:"variable",range},{label:"data",kind:suggestions_KEYWORD,insertText:"data",range},{label:"structure",kind:suggestions_KEYWORD,insertText:"structure",range},{label:"dataset",kind:suggestions_KEYWORD,insertText:"dataset",range},{label:"operator",kind:suggestions_KEYWORD,insertText:"operator",range},{label:"define",kind:suggestions_KEYWORD,insertText:"define",range},{label:"datapoint",kind:suggestions_KEYWORD,insertText:"datapoint",range},{label:"hierarchical",kind:suggestions_KEYWORD,insertText:"hierarchical",range},{label:"ruleset",kind:suggestions_KEYWORD,insertText:"ruleset",range},{label:"rule",kind:suggestions_KEYWORD,insertText:"rule",range},{label:"end",kind:suggestions_KEYWORD,insertText:"end",range},{label:"alterDataset",kind:suggestions_KEYWORD,insertText:"alterDataset",range},{label:"ltrim",kind:suggestions_FUNCTION,insertText:"ltrim",range,documentation:{value:'Removes leading whitespace from a string.  For example,    trim(" Hello ") gives "Hello ".   \n\n **Syntax** \n\n    ltrim(operand) '}},{label:"rtrim",kind:suggestions_FUNCTION,insertText:"rtrim",range,documentation:{value:'Removes trailing whitespace from a string.  For example,    trim("Hello ") gives  "Hello".   \n\n **Syntax** \n\n    rtrim(operand) '}},{label:"instr",kind:suggestions_FUNCTION,insertText:"instr",range,documentation:{value:"The operator returns the position in the input string of a specified string (pattern).   \n\n **Syntax** \n\n    instr ( op, pattern, start, occurrence ) "}},{label:"replace",kind:suggestions_FUNCTION,insertText:"replace",range,documentation:{value:"Replaces all the occurrences of a specified string-pattern (pattern1) with another one (pattern2). If pattern2 is  omitted then all occurrences of pattern1 are removed   \n\n **Syntax** \n\n    replace (op , pattern1,  pattern2 ) "}},{label:"ceil",kind:suggestions_FUNCTION,insertText:"ceil",range,documentation:{value:"The operator ceil returns the smallest integer greater than or equal to op. \n\n For example:\n\n ceil(3.14159) gives 4   \n\n **Syntax** \n\n    ceil(op) "}},{label:"floor",kind:suggestions_FUNCTION,insertText:"floor",range,documentation:{value:"The operator floor returns the greatest integer which is smaller than or equal to op.  \n\n For example:\n\n floor(3.14159) gives 3   \n\n **Syntax** \n\n    floor(op) "}},{label:"sqrt",kind:suggestions_FUNCTION,insertText:"sqrt",range,documentation:{value:"The operator sqrt calculates the square root of a number.  \n\n **Syntax** \n\n    sqrt(op) "}},{label:"any",kind:suggestions_KEYWORD,insertText:"any",range},{label:"setdiff",kind:suggestions_FUNCTION,insertText:"setdiff",range,documentation:{value:"The operator implements the set difference of functions (i.e. Data Sets), interpreting the Data Points of the input Data Sets as the elements belonging to the operand sets, the minuend and the subtrahend, respectively.   \n\n **Syntax** \n\n    setdiff(ds1, ds2)  "}},{label:"stddev_pop",kind:suggestions_FUNCTION,insertText:"stddev_pop",range,documentation:{value:"Population standard deviation of a set of numbers.   \n\n **Syntax** \n\n    stddev_pop( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    stddev_pop( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"stddev_samp",kind:suggestions_FUNCTION,insertText:"stddev_samp",range,documentation:{value:"Sample standard deviation of a set of numbers.   \n\n **Syntax** \n\n    stddev_samp( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    stddev_samp( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"var_pop",kind:suggestions_FUNCTION,insertText:"var_pop",range,documentation:{value:"Population variance of a set of numbers.   \n\n **Syntax** \n\n    var_pop( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    var_pop( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"var_samp",kind:suggestions_FUNCTION,insertText:"var_samp",range,documentation:{value:"Sample variance of a set of numbers.   \n\n **Syntax** \n\n    var_samp( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    var_samp( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"group",kind:suggestions_KEYWORD,insertText:"group",range},{label:"except",kind:suggestions_KEYWORD,insertText:"except",range},{label:"having",kind:suggestions_KEYWORD,insertText:"having",range},{label:"first_value",kind:suggestions_FUNCTION,insertText:"first_value",range,documentation:{value:"First value in an ordered set of values .   \n\n **Syntax** \n\n    first_value( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    first_value( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"last_value",kind:suggestions_FUNCTION,insertText:"last_value",range,documentation:{value:"Last value in an ordered set of values.   \n\n **Syntax** \n\n    last_value( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    last_value( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"lag",kind:suggestions_FUNCTION,insertText:"lag",range,documentation:{value:"In an ordered set of Data Points, it returns the value(s) taken from a Data Point at a given physical offset prior to the current Data Point.   \n\n **Syntax** \n\n    lag( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    lag( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"lead",kind:suggestions_FUNCTION,insertText:"lead",range,documentation:{value:"In an ordered set of Data Points, it returns the value(s) taken from a Data Point at a given physical offset beyond the current Data Point .   \n\n **Syntax** \n\n    lead( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    lead( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"ratio_to_report",kind:suggestions_FUNCTION,insertText:"ratio_to_report",range,documentation:{value:"In an ordered set of Data Points, it returns the value(s) taken from a Data Point at a given physical offset beyond the current Data Point .   \n\n **Syntax** \n\n    ratio_to_report( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    ratio_to_report( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"over",kind:suggestions_KEYWORD,insertText:"over",range},{label:"preceding",kind:suggestions_KEYWORD,insertText:"preceding",range},{label:"following",kind:suggestions_KEYWORD,insertText:"following",range},{label:"unbounded",kind:suggestions_KEYWORD,insertText:"unbounded",range},{label:"partition",kind:suggestions_KEYWORD,insertText:"partition",range},{label:"rows",kind:suggestions_KEYWORD,insertText:"rows",range},{label:"range",kind:suggestions_KEYWORD,insertText:"range",range},{label:"current",kind:suggestions_KEYWORD,insertText:"current",range},{label:"valid",kind:suggestions_KEYWORD,insertText:"valid",range},{label:"fill_time_series",kind:suggestions_FUNCTION,insertText:"fill_time_series",range,documentation:{value:"The operator fills the possibly missing Data Points of all the time series belonging to the operand op within the time limits automatically determined by applying the limit_method.       \n\n **Syntax** \n\n    fill_time_series( op { , limitsMethod})  \n\n *limitsMethod* ::= single | all"}},{label:"flow_to_stock",kind:suggestions_FUNCTION,insertText:"flow_to_stock",range,documentation:{value:"This operator takes in input a Data Set which are interpreted as flows and calculates the change of the  corresponding stock since the beginning of each time series by summing the relevant flows. In other words, the  operator perform the cumulative sum from the first Data Point of each time series to each other following Data  Point of the same time series.  \n\n **Syntax** \n\n    flow_to_stock( op )  "}},{label:"stock_to_flow",kind:suggestions_FUNCTION,insertText:"stock_to_flow",range,documentation:{value:"This operator takes in input a Data Set of time series which is interpreted as stock data and, for each time series,  calculates the corresponding flow data by subtracting from the measure values of each regular period the  corresponding measure values of the previous one.   \n\n **Syntax** \n\n    stock_to_flow( op )  "}},{label:"timeshift",kind:suggestions_FUNCTION,insertText:"timeshift",range,documentation:{value:"This operator takes in input a Data Set of time series and, for each time series of the Data Set, shifts the reference time Identifier of a number of periods (of the time series) equal to the shift_number parameter.  If shift_number is negative, the shift is in the past, otherwise in the future  \n\n **Syntax** \n\n    timeshift( op ,  shiftNumber) "}},{label:"measures",kind:suggestions_KEYWORD,insertText:"measures",range},{label:"no_measures",kind:suggestions_KEYWORD,insertText:"no_measures",range},{label:"condition",kind:suggestions_KEYWORD,insertText:"condition",range},{label:"boolean",kind:suggestions_KEYWORD,insertText:"boolean",range},{label:"date",kind:suggestions_KEYWORD,insertText:"date",range},{label:"time_period",kind:suggestions_KEYWORD,insertText:"time_period",range},{label:"number",kind:suggestions_KEYWORD,insertText:"number",range},{label:"string",kind:suggestions_KEYWORD,insertText:"string",range},{label:"integer",kind:suggestions_KEYWORD,insertText:"integer",range},{label:"float",kind:suggestions_KEYWORD,insertText:"float",range},{label:"list",kind:suggestions_KEYWORD,insertText:"list",range},{label:"record",kind:suggestions_KEYWORD,insertText:"record",range},{label:"restrict",kind:suggestions_KEYWORD,insertText:"restrict",range},{label:"maxLength",kind:suggestions_KEYWORD,insertText:"maxLength",range},{label:"regexp",kind:suggestions_KEYWORD,insertText:"regexp",range},{label:"is",kind:suggestions_KEYWORD,insertText:"is",range},{label:"when",kind:suggestions_KEYWORD,insertText:"when",range},{label:"from",kind:suggestions_KEYWORD,insertText:"from",range},{label:"aggregates",kind:suggestions_KEYWORD,insertText:"aggregates",range},{label:"points",kind:suggestions_KEYWORD,insertText:"points",range},{label:"point",kind:suggestions_KEYWORD,insertText:"point",range},{label:"total",kind:suggestions_KEYWORD,insertText:"total",range},{label:"partial",kind:suggestions_KEYWORD,insertText:"partial",range},{label:"always",kind:suggestions_KEYWORD,insertText:"always",range},{label:"inner_join",kind:suggestions_FUNCTION,insertText:"inner_join",range,documentation:{value:"Join operator, a relational join of the input operands is performed, according to SQL inner"}},{label:"left_join",kind:suggestions_FUNCTION,insertText:"left_join",range,documentation:{value:"Join operator,  this is the left-most Data Set (left-outer sql)"}},{label:"cross_join",kind:suggestions_FUNCTION,insertText:"cross_join",range,documentation:{value:"Join operator,  Cartesian product"}},{label:"full_join",kind:suggestions_FUNCTION,insertText:"full_join",range,documentation:{value:"Join operator,  full outer (sql)"}},{label:"maps_from",kind:suggestions_KEYWORD,insertText:"maps_from",range},{label:"maps_to",kind:suggestions_KEYWORD,insertText:"maps_to",range},{label:"map_to",kind:suggestions_KEYWORD,insertText:"map_to",range},{label:"map_from",kind:suggestions_KEYWORD,insertText:"map_from",range},{label:"returns",kind:suggestions_KEYWORD,insertText:"returns",range},{label:"pivot",kind:suggestions_KEYWORD,insertText:"pivot",range,documentation:{value:"The operator transposes several Data Points of the operand Data Set into a single Data Point of the resulting Data Set.  \n\n **Syntax** \n\n    op [ pivot identifier , measure ]   "}},{label:"customPivot",kind:suggestions_KEYWORD,insertText:"customPivot",range},{label:"unpivot",kind:suggestions_KEYWORD,insertText:"unpivot",range,documentation:{value:"The unpivot operator transposes a single Data Point of the operand Data Set into several Data Points of the result Data set.  \n\n **Syntax** \n\n    op [ unpivot identifier , measure ]   "}},{label:"sub",kind:suggestions_KEYWORD,insertText:"sub",range,documentation:{value:"The operator returns a Data Set in a subspace of the one of the input Dataset.  \n\n **Syntax** \n\n    op [ sub identifier = value { , identifier = value }* ]   "}},{label:"apply",kind:suggestions_KEYWORD,insertText:"apply",range},{label:"conditioned",kind:suggestions_KEYWORD,insertText:"conditioned",range},{label:"period_indicator",kind:suggestions_FUNCTION,insertText:"period_indicator ",range,documentation:{value:"period_indicator returns the period indicator of a time_period value. The period indicator is the part of the time_period value which denotes the duration of the time period (e.g. day, week, month …).      \n\n **Syntax** \n\n    period_indicator(op) "}},{label:"single",kind:suggestions_KEYWORD,insertText:"single",range},{label:"duration",kind:suggestions_KEYWORD,insertText:"duration",range},{label:"time_agg",kind:suggestions_FUNCTION,insertText:"time_agg",range,documentation:{value:"The operator converts a time, date or time_period value from a smaller to a larger duration.   \n\n **Syntax** \n\n    time_agg(periodIndTo { ,periodIndFrom } { ,op } { ,first | last }) "}},{label:"unit",kind:suggestions_KEYWORD,insertText:"unit",range},{label:"value",kind:suggestions_KEYWORD,insertText:"value",range},{label:"valuedomains",kind:suggestions_KEYWORD,insertText:"valuedomains",range},{label:"variables",kind:suggestions_KEYWORD,insertText:"variables",range},{label:"input",kind:suggestions_KEYWORD,insertText:"input",range},{label:"output",kind:suggestions_KEYWORD,insertText:"output",range},{label:"cast",kind:suggestions_FUNCTION,insertText:"cast",range,documentation:{value:"This operator converts the scalar type of op to the scalar type specified by scalarType.  It returns a copy of op converted to the specified scalarType.   \n\n **Syntax** \n\n    cast ( op , scalarType { , mask} ) "}},{label:"rule_priority",kind:suggestions_KEYWORD,insertText:"rule_priority",range},{label:"dataset_priority",kind:suggestions_KEYWORD,insertText:"dataset_priority",range},{label:"default",kind:suggestions_KEYWORD,insertText:"default",range},{label:"check_datapoint",kind:suggestions_FUNCTION,insertText:"check_datapoint",range,documentation:{value:"\n\n*Syntax*\n\n    check_datapoint( op , dpr { components listComp } { output }) "}},{label:"check_hierarchy ",kind:suggestions_FUNCTION,insertText:"check_hierarchy ",range,documentation:{value:"The check_hierarchy operator applies the Rules of the Ruleset hr to check the Code Items Relations between the Code Items present in op    \n\n **Syntax** \n\n    check_hierarchy ( op , hr { condition condComp { , condComp }* } { rule ruleComp } { mode } { input } { output } )  "}},{label:"computed",kind:suggestions_KEYWORD,insertText:"computed",range},{label:"non_null",kind:suggestions_KEYWORD,insertText:"non_null",range},{label:"non_zero",kind:suggestions_KEYWORD,insertText:"non_zero",range},{label:"partial_null",kind:suggestions_KEYWORD,insertText:"partial_null",range},{label:"partial_zero",kind:suggestions_KEYWORD,insertText:"partial_zero",range},{label:"always_null",kind:suggestions_KEYWORD,insertText:"always_null",range},{label:"always_zero",kind:suggestions_KEYWORD,insertText:"always_zero",range},{label:"components",kind:suggestions_KEYWORD,insertText:"components",range},{label:"all_measures",kind:suggestions_KEYWORD,insertText:"all_measures",range},{label:"scalar",kind:suggestions_KEYWORD,insertText:"scalar",range},{label:"component",kind:suggestions_KEYWORD,insertText:"component",range},{label:"datapoint_on_valuedomains",kind:suggestions_KEYWORD,insertText:"datapoint_on_valuedomains",range},{label:"datapoint_on_variables",kind:suggestions_KEYWORD,insertText:"datapoint_on_variables",range},{label:"hierarchical_on_valuedomains",kind:suggestions_KEYWORD,insertText:"hierarchical_on_valuedomains",range},{label:"hierarchical_on_variables",kind:suggestions_KEYWORD,insertText:"hierarchical_on_variables",range},{label:"set",kind:suggestions_KEYWORD,insertText:"set",range},{label:"language",kind:suggestions_KEYWORD,insertText:"language",range},{label:"defdatapoint",kind:suggestions_SNIPPET,insertText:["define datapoint ruleset ${0:name} (${1:signature}) is","\t$3","end datapoint ruleset"].join("\n"),insertTextRules:suggestions_INSERT_AS_SNIPPET,documentation:{value:["\tdefine datapoint ruleset ruleSetName (signature) is\n","\t\trule\n","\tend datapoint ruleset"].join("")}},{label:"defhierarchical",kind:suggestions_SNIPPET,insertText:["define hierarchical ruleset ${0:name} (${1:signature}) is","\t$3","end hierarchical ruleset"].join("\n"),insertTextRules:suggestions_INSERT_AS_SNIPPET,documentation:{value:["\tdefine hierarchical ruleset ruleSetName (signature) is\n","\t\t{rule}\n","\tend hierarchical ruleset"].join("")}},{label:"defoperator",kind:suggestions_SNIPPET,insertText:["define operator ${0:name} (${1:parameter})","returns ${2:returnType} is","","end operator"].join("\n"),insertTextRules:suggestions_INSERT_AS_SNIPPET,documentation:{value:["\tdefine operator operatorName (parameter)\n","\treturns {returnType} is\n","\t{operatorBody}\n","\tend operator"].join("")}}]};try{getSuggestionsFromRange.displayName="getSuggestionsFromRange",getSuggestionsFromRange.__docgenInfo={description:"",displayName:"getSuggestionsFromRange",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/vtl-monaco/suggestions.tsx#getSuggestionsFromRange"]={docgenInfo:getSuggestionsFromRange.__docgenInfo,name:"getSuggestionsFromRange",path:"src/stories/vtl-monaco/suggestions.tsx#getSuggestionsFromRange"})}catch(__react_docgen_typescript_loader_error){}var customTools=(0,objectSpread2.Z)((0,objectSpread2.Z)({},lib),{},{getSuggestionsFromRange,monarchDefinition:monarch_definition_namespaceObject});const stories_VtlEditor=function EditorForStories(props){var _props$initialRule=props.initialRule,initialRule=void 0===_props$initialRule?"start":_props$initialRule;return console.log(initialRule),(0,jsx_runtime.jsx)(src_Editor,(0,objectSpread2.Z)((0,objectSpread2.Z)({},props),{},{tools:(0,objectSpread2.Z)((0,objectSpread2.Z)({},customTools),{},{initialRule})}))};try{__function.displayName="VtlEditor",__function.__docgenInfo={description:"",displayName:"VtlEditor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/VtlEditor.tsx#VtlEditor"]={docgenInfo:VtlEditor.__docgenInfo,name:"VtlEditor",path:"src/stories/VtlEditor.tsx#VtlEditor"})}catch(__react_docgen_typescript_loader_error){}const VtlEditor_stories={title:"VtlEditor",component:stories_VtlEditor,tags:["autodocs"]};var Default={args:{initialRule:"start"},argTypes:{initialRule:{control:"select",options:["start","expr"]}}},Styled={args:{initialRule:"start",theme:"vs-dark",height:"50vh",width:"80%",options:{lineNumbers:!0,minimap:{enabled:!0},readOnly:!1}},argTypes:{initialRule:{control:"select",options:["start","expr"]},theme:{control:"select",options:["vs-dark","vs-light"]},options:{control:"object"}}},VariableType=function(VariableType){return VariableType.STRING="STRING",VariableType.INTEGER="INTEGER",VariableType.NUMBER="NUMBER",VariableType.BOOLEAN="BOOLEAN",VariableType}(VariableType||{}),VariableRole=function(VariableRole){return VariableRole.IDENTIFIER="IDENTIFIER",VariableRole.MEASURE="MEASURE",VariableRole.DIMENSION="DIMENSION",VariableRole}(VariableRole||{}),Enriched={args:{initialRule:"start",variables:{name:{type:VariableType.STRING,role:VariableRole.IDENTIFIER},age:{type:VariableType.INTEGER,role:VariableRole.MEASURE}},variablesInputURLs:["https://raw.githubusercontent.com/Making-Sense-Info/ANTLR-Editor/gh-pages/samples/variablesInputFile1.json","https://raw.githubusercontent.com/Making-Sense-Info/ANTLR-Editor/gh-pages/samples/variablesInputFile2.json"]},argTypes:{initialRule:{control:"select",options:["start","expr"]},variables:{control:"object"},variablesInputURLs:{control:"object"}}},__namedExportsOrder=["Default","Styled","Enriched"]},"./.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:()=>preview_namedExportsOrder,parameters:()=>parameters});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/theming/dist/esm/index.js");__webpack_require__("./node_modules/react/index.js");const antlr_logo=__webpack_require__.p+"static/media/antlr-logo.ed86917b26ec6c376f4c1632fba37e52.svg";var darkTheme=(0,esm.Ue)({base:"dark",brandTitle:"ANTLR Editor",brandImage:antlr_logo,brandUrl:"https://github.com/Making-Sense-Info/ANTLR-Editor",appBg:"#323137",appContentBg:"#323137",barBg:"#323137",colorSecondary:"#9211ff",textColor:"#f1f0eb",textInverseColor:"#ffc0cb",fontBase:'"Montserrat", sans-serif',fontCode:"monospace"}),lightTheme=(0,esm.Ue)({base:"light",brandTitle:"ANTLR Editor",brandImage:antlr_logo,brandUrl:"https://github.com/Making-Sense-Info/ANTLR-Editor",appBg:"#f2f2f3",appContentBg:"#f2f2f3",barBg:"#f2f2f3",colorSecondary:"#9211ff",textColor:"#0F417A",textInverseColor:"#ffc0cb",fontBase:'"Montserrat", sans-serif',fontCode:"monospace"}),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),blocks=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js"),dist_esm=__webpack_require__("./node_modules/storybook-dark-mode/dist/esm/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),DocsContainer=function DocsContainer(_ref){var children=_ref.children,context=_ref.context,dark=(0,dist_esm.vs)();return(0,jsx_runtime.jsx)(blocks.Zu,{context:(0,objectSpread2.Z)((0,objectSpread2.Z)({},context),{},{storyById:function storyById(id){var _storyContext$paramet,storyContext=context.storyById(id);return(0,objectSpread2.Z)((0,objectSpread2.Z)({},storyContext),{},{parameters:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null==storyContext?void 0:storyContext.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null==storyContext||null===(_storyContext$paramet=storyContext.parameters)||void 0===_storyContext$paramet?void 0:_storyContext$paramet.docs),{},{theme:dark?darkTheme:lightTheme})})})}}),children})};DocsContainer.__docgenInfo={description:"",methods:[],displayName:"DocsContainer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/DocsContainer.js"]={name:"DocsContainer",docgenInfo:DocsContainer.__docgenInfo,path:".storybook/DocsContainer.js"});var parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},backgrounds:{disable:!0},darkMode:{stylePreview:!0,light:lightTheme,dark:darkTheme,current:"dark"},docs:{container:DocsContainer},options:{storySort:function storySort(a,b){return a[0]<b[0]?-1:1}}},preview_namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(ts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./VtlEditor.stories.ts":"./src/stories/VtlEditor.stories.ts"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src/stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(ts%7Ctsx))$"},"./src/stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src/stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"?4f7e":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src/stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src/stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(ts%7Ctsx))$")],module,!1)}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[1593],(()=>(__webpack_exec__("./node_modules/@storybook/core-server/node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-server/node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);